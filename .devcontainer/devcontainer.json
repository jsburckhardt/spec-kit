{
	"name": "gospecify",
	"image": "mcr.microsoft.com/devcontainers/python:dev-3.12-bookworm",
	// Features to add to the dev container. More info: https://containers.dev/features.
	"features": {
		"ghcr.io/jsburckhardt/devcontainer-features/uv": {},
		"ghcr.io/devcontainers/features/azure-cli": {},
		"ghcr.io/stuartleeks/dev-container-features/shell-history": {},
		"ghcr.io/devcontainers/features/docker-outside-of-docker": {},
		"ghcr.io/devcontainers/features/docker-in-docker":{},
		"ghcr.io/jsburckhardt/devcontainer-features/opencode": {},
		"ghcr.io/jsburckhardt/devcontainer-features/just": {},
		"ghcr.io/azure/azure-dev/azd": {},
		"ghcr.io/devcontainers/features/go:1.3.2": {}
	},
	"customizations": {
		"vscode": {
			"settings": {
				"files.insertFinalNewline": true,
                "files.trimTrailingWhitespace": true,
                "editor.tabSize": 2,
                "files.autoSave": "onFocusChange"
			},
			"extensions": [
				"astral-sh.uv",
				"ms-python.python",
				"ms-python.vscode-pylance",
				"charliermarsh.ruff",
				"ms-toolsai.jupyter",
				"eamodio.gitlens",
				"GitHub.copilot-chat",
				"GitHub.copilot"
			]
		}
	},
	"remoteEnv": {
    "HOST_PROJECT_PATH": "${localWorkspaceFolder}", // The shim looks for this when running in a container
	},
	"postCreateCommand": "bash .devcontainer/post-create.sh",
    "mounts": [
		// map host ssh to container
		"source=${env:HOME}${env:USERPROFILE}/.ssh,target=/home/vscode/.ssh,type=bind,consistency=cached"
	]
	// Uncomment to connect as root instead. More info: https://aka.ms/dev-containers-non-root.
	// "remoteUser": "root"
}
